[gd_scene load_steps=16 format=3 uid="uid://c6idgkcvhp3vc"]

[ext_resource type="PackedScene" uid="uid://bj7d4aocvbm0e" path="res://Terrain/StreetCorner/street_corner_terrain.tscn" id="1_6qklj"]
[ext_resource type="Script" uid="uid://dnqp0o40gsf8a" path="res://Objects/Street/Scripts/traffic_light_manager.gd" id="3_4wj2v"]
[ext_resource type="PackedScene" uid="uid://dmltfs83e8g7f" path="res://Objects/Car/car.tscn" id="3_o8o6p"]
[ext_resource type="Texture2D" uid="uid://wacfloxc8is" path="res://Environments/HDR/daytime.hdr" id="3_ynxnr"]
[ext_resource type="PackedScene" uid="uid://hcv53osdjj4q" path="res://Objects/Street/PrefabScenes/TrafficLightStuffs/TrafficLight.tscn" id="4_o8o6p"]
[ext_resource type="PackedScene" uid="uid://b74nqh5tcg66o" path="res://Objects/Park/Trees/tree.tscn" id="6_fcu0f"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_o8o6p"]
panorama = ExtResource("3_ynxnr")

[sub_resource type="Sky" id="Sky_jka67"]
sky_material = SubResource("PanoramaSkyMaterial_o8o6p")

[sub_resource type="Environment" id="Environment_4wj2v"]
background_mode = 2
sky = SubResource("Sky_jka67")
ambient_light_color = Color(0.733333, 0.854902, 0.909804, 1)
ambient_light_sky_contribution = 0.0
reflected_light_source = 2

[sub_resource type="BoxShape3D" id="BoxShape3D_4wj2v"]
size = Vector3(3.9541, 0.875977, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_fcu0f"]
size = Vector3(9.93359, 0.875977, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_iwjyl"]
size = Vector3(4.96729, 0.875977, 1.80029)

[sub_resource type="Curve3D" id="Curve3D_4wj2v"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 1.50139, 0, 0.035614, -8.37746, -1.21807, -1.85105, 8.37746, 1.21807, 1.85105, 27.2111, 3.5551, 4.43983, -5.90817, -0.430173, -2.77597, 5.90817, 0.430173, 2.77597, 56.2671, 6.62545, 14.3077, -4.58134, -0.327091, -2.43839, 4.58134, 0.327091, 2.43839, 72.1056, 7.52629, 23.5786, -4.34604, 0.0392618, -2.74646, 4.34604, -0.0392618, 2.74646, 96.3003, 7.89992, 37.1872, 0, 0, 0, 0, 0, 0, 154.844, 8.09704, 74.0976),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0)
}
point_count = 6

[sub_resource type="Curve3D" id="Curve3D_ynxnr"]
_data = {
"points": PackedVector3Array(-2.13504, -0.379867, 1.38845, 0, 0, 0, 0.070015, 0, -1.40785, 2.97563, 0.0378065, -5.01602, -2.97563, -0.0378065, 5.01602, -13.4649, -0.0650282, 23.7251, 3.11544, 0.0911275, -4.94571, -3.11544, -0.0911275, 4.94571, -28.8382, -0.614935, 46.7648, 0.717323, 0.128403, -1.31676, -0.717323, -0.128403, 1.31676, -52.5069, -1.92038, 84.6003),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[sub_resource type="Curve3D" id="Curve3D_fcu0f"]
_data = {
"points": PackedVector3Array(-0.396322, -0.25536, 0.970993, 0.396322, 0.25536, -0.970993, -0.413326, -0.653424, 1.80665, -3.33203, 0, 5.45241, 3.33203, 0, -5.45241, 23.1384, 0.474649, -36.3602, -2.20213, -0.0983887, 3.87898, 2.20213, 0.0983887, -3.87898, 35.573, 0.595489, -57.052, 0, 0, 0, 0, 0, 0, 53.2665, 0.786281, -86.3829),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[node name="StreetCornerEnvironment" type="Node3D"]

[node name="StreetCornerTerrain" parent="." instance=ExtResource("1_6qklj")]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_4wj2v")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.728969, 0.684547, 0, -0.684547, -0.728969, 0, -2.50862, 0)
light_energy = 0.825
shadow_enabled = true

[node name="StreetCorner" type="Node3D" parent="." node_paths=PackedStringArray("traffic_lights")]
script = ExtResource("3_4wj2v")
traffic_lights = [NodePath("TrafficLight"), NodePath("TrafficLight2"), NodePath("TrafficLight3")]

[node name="TrafficLight" parent="StreetCorner" node_paths=PackedStringArray("obstacle") instance=ExtResource("4_o8o6p")]
transform = Transform3D(-0.847317, 0, 0.531088, 0, 1, 0, -0.531088, 0, -0.847317, -16.3581, -0.25325, -1.69925)
obstacle = NodePath("Area3D")

[node name="Area3D" type="Area3D" parent="StreetCorner/TrafficLight"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.00375, -9.53674e-07, 23.1365)

[node name="CollisionShape3D" type="CollisionShape3D" parent="StreetCorner/TrafficLight/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.47705, 0.0620117, 9.53674e-07)
shape = SubResource("BoxShape3D_4wj2v")

[node name="TrafficLight2" parent="StreetCorner" node_paths=PackedStringArray("obstacle") instance=ExtResource("4_o8o6p")]
transform = Transform3D(-0.526674, 0, -0.850067, 0, 1, 0, 0.850067, 0, -0.526674, 3.60522, -0.00428042, 7.64299)
obstacle = NodePath("Area3D")
direction = 1

[node name="Area3D" type="Area3D" parent="StreetCorner/TrafficLight2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.00375, -9.53674e-07, 23.1365)

[node name="CollisionShape3D" type="CollisionShape3D" parent="StreetCorner/TrafficLight2/Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.80263, 0.0620117, 1.62515)
shape = SubResource("BoxShape3D_fcu0f")

[node name="TrafficLight3" parent="StreetCorner" node_paths=PackedStringArray("obstacle") instance=ExtResource("4_o8o6p")]
transform = Transform3D(0.889273, 0, -0.457377, 0, 1, 0, 0.457377, 0, 0.889273, 15.313, -0.00428042, -12.2883)
obstacle = NodePath("Area3D")

[node name="Area3D" type="Area3D" parent="StreetCorner/TrafficLight3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.00375, -9.53674e-07, 23.1365)

[node name="CollisionShape3D" type="CollisionShape3D" parent="StreetCorner/TrafficLight3/Area3D"]
transform = Transform3D(0.988759, 0, -0.149518, 0, 1, 0, 0.149518, 0, 0.988759, -4.88935, 0.0620112, 0.273165)
shape = SubResource("BoxShape3D_iwjyl")

[node name="CarPaths" type="Node3D" parent="."]

[node name="Path1" type="Path3D" parent="CarPaths"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -85.5275, -7.89699, -35.6942)
curve = SubResource("Curve3D_4wj2v")

[node name="PathFollow3D" type="PathFollow3D" parent="CarPaths/Path1"]
transform = Transform3D(-0.168846, -0.133105, -0.976613, 7.45058e-09, 0.990836, -0.135045, 0.985642, -0.0228017, -0.167299, 1.50139, 0, 0.035614)

[node name="Car" parent="CarPaths/Path1/PathFollow3D" instance=ExtResource("3_o8o6p")]
transform = Transform3D(-0.999627, -9.65632e-05, -0.0276601, 3.72529e-09, 1.0001, -0.00349069, 0.0276601, -0.00348971, -0.999627, 0, -0.170928, 0.0233002)

[node name="Path2" type="Path3D" parent="CarPaths"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.8342, 0, -42.106)
curve = SubResource("Curve3D_ynxnr")

[node name="PathFollow3D" type="PathFollow3D" parent="CarPaths/Path2"]
transform = Transform3D(-0.880436, -0.00108008, 0.474133, -1.16414e-10, 0.999959, 0.00227796, -0.474144, 0.0020056, -0.880417, 0.070015, 0, -1.40785)

[node name="Car" parent="CarPaths/Path2/PathFollow3D" instance=ExtResource("3_o8o6p")]
transform = Transform3D(-1.00002, 1.52923e-06, 0.000438243, 9.9797e-07, 1.00012, -0.00121268, -0.000438243, -0.00121278, -1.00004, -0.605891, -0.219863, -1.27325)

[node name="Camera3D" type="Camera3D" parent="CarPaths"]
transform = Transform3D(0.402742, -0.286664, 0.869266, 2.98027e-08, 0.949692, 0.313186, -0.915314, -0.126133, 0.38248, -16.276, 3.55737, 46.4269)

[node name="Path3D" type="Path3D" parent="CarPaths"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27.8241, -0.787678, 42.3775)
curve = SubResource("Curve3D_fcu0f")

[node name="PathFollow3D" type="PathFollow3D" parent="CarPaths/Path3D"]
transform = Transform3D(0.925847, -0.0894005, -0.367168, 1.49011e-08, 0.971609, -0.236575, 0.377895, 0.219032, 0.899565, -0.413326, -0.653424, 1.80665)

[node name="Car" parent="CarPaths/Path3D/PathFollow3D" instance=ExtResource("3_o8o6p")]
transform = Transform3D(-0.999582, -0.000102204, -0.029276, 0.000381353, 0.99997, -0.016511, 0.0292736, -0.0165166, -0.999451, -0.597, 0, -1.756)

[node name="Tree1" parent="." instance=ExtResource("6_fcu0f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.94186, -1.2855, 11.2646)

[node name="Tree2" parent="." instance=ExtResource("6_fcu0f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.98779, -2.57099, 27.0838)

[node name="Tree3" parent="." instance=ExtResource("6_fcu0f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.0441, -2.57099, 34.7093)

[node name="Tree4" parent="." instance=ExtResource("6_fcu0f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -26.0972, -2.57099, 3.71307)

[node name="Tree5" parent="." instance=ExtResource("6_fcu0f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -39.0002, -2.57099, 14.2285)

[node name="Tree6" parent="." instance=ExtResource("6_fcu0f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -41.392, -2.57099, 33.483)

[node name="Tree7" parent="." instance=ExtResource("6_fcu0f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -73.2321, -6.83422, -15.1391)

[node name="Tree8" parent="." instance=ExtResource("6_fcu0f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 19.0181, -2.57099, -15.9565)

[node name="Tree9" parent="." instance=ExtResource("6_fcu0f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 24.7319, -2.57099, -29.2004)
